{% extends "_base.html" %}
{% load i18n %}

{% block title %}{% trans "ثبت‌نام" %}{% endblock %}

{% block css %}
<style>
  .register-wrapper{
    max-width:700px;
    margin:80px auto;
    padding:30px;
    background:#f8f9fa;
    border-radius:15px;
    box-shadow:0 4px 10px rgba(0,0,0,.1);
  }
</style>
{% endblock %}

{% block content %}
<div class="register-wrapper">
  <h3 class="text-center mb-4">{% trans "ثبت نام" %}</h3>

  <form class="row g-3" method="post" novalidate>
    {% csrf_token %}

    {# خطاهای کلی فرم #}
    {% if form.non_field_errors %}
      <div class="alert alert-danger">
        {% for error in form.non_field_errors %}{{ error }}{% endfor %}
      </div>
    {% endif %}

    <div class="col-md-6">
      <label class="form-label" for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
      {{ form.username }}
      {% if form.username.errors %}
        <div class="invalid-feedback d-block">
          {% for error in form.username.errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
      {{ form.first_name }}
      {% if form.first_name.errors %}
        <div class="invalid-feedback d-block">
          {% for error in form.first_name.errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
      {{ form.last_name }}
      {% if form.last_name.errors %}
        <div class="invalid-feedback d-block">
          {% for error in form.last_name.errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
      {{ form.email }}
      {% if form.email.errors %}
        <div class="invalid-feedback d-block">
          {% for error in form.email.errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
      {{ form.password1 }}
      {% if form.password1.errors %}
        <div class="invalid-feedback d-block">
          {% for error in form.password1.errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
      {{ form.password2 }}
      {% if form.password2.errors %}
        <div class="invalid-feedback d-block">
          {% for error in form.password2.errors %}{{ error }}{% endfor %}
        </div>
      {% endif %}
    </div>

    <div class="col-12">
      <button class="btn btn-success w-100" type="submit">{% trans "ثبت نام" %}</button>
    </div>
  </form>
</div>
{% endblock %}
