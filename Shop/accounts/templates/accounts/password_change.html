{% extends "_base.html" %} {% load i18n %} {% block content %}
<div class="container mt-5" style="max-width: 600px">
  <h3 class="text-center mb-4">{% trans "تغییر گذرواژه" %}</h3>

  <form method="post" class="row g-3 needs-validation" novalidate>
    {% csrf_token %} {% if form.non_field_errors %}
    <div class="alert alert-danger">
      {% for error in form.non_field_errors %}{{ error }}{% endfor %}
    </div>
    {% endif %}

    <div class="col-12">
      <label class="form-label" for="{{ form.old_password.id_for_label }}"
        >{{ form.old_password.label }}</label
      >
      {{ form.old_password }} {% if form.old_password.errors %}
      <div class="invalid-feedback d-block">
        {% for error in form.old_password.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.new_password1.id_for_label }}"
        >{{ form.new_password1.label }}</label
      >
      {{ form.new_password1 }} {% if form.new_password1.errors %}
      <div class="invalid-feedback d-block">
        {% for error in form.new_password1.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %} {% if form.new_password1.help_text %}
      <div class="form-text">{{ form.new_password1.help_text|safe }}</div>
      {% endif %}
    </div>

    <div class="col-md-6">
      <label class="form-label" for="{{ form.new_password2.id_for_label }}"
        >{{ form.new_password2.label }}</label
      >
      {{ form.new_password2 }} {% if form.new_password2.errors %}
      <div class="invalid-feedback d-block">
        {% for error in form.new_password2.errors %}{{ error }}{% endfor %}
      </div>
      {% endif %}
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-success w-100">
        {% trans "ذخیره گذرواژه جدید" %}
      </button>
    </div>

    <div class="col-12 text-center">
      <a href="{% url 'accounts:profile' %}" class="btn btn-link"
        >{% trans "بازگشت به پروفایل" %}</a
      >
    </div>
  </form>
</div>
{% endblock %}
